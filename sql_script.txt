CREATE TABLE TRENINGSOKT (
  Id INT,
  Dato_tid DATETIME,
  Personlig_form TEXT,
  Prestasjon TEXT,
  Notat TEXT,
  CONSTRAINT Treningsokt_PK PRIMARY KEY(Id)
);

CREATE TABLE OVELSE (
  Id INT,
  Navn VARCHAR(30),
  Beskrivelse TEXT,
  Type BOOLEAN,
  CONSTRAINT Ovelse_PK PRIMARY KEY(Id)
);

CREATE TABLE GRUPPE (
  Id INT,
  Navn VARCHAR(30) NOT NULL,
  Beskrivelse TEXT NOT NULL,
  CONSTRAINT Gruppe_PK PRIMARY KEY(Id)
);

CREATE TABLE TRENINGSPROGRAMMAL (
  Navn VARCHAR(30),
  Ovelse_id INT NOT NULL,
  CONSTRAINT Treningsprogrammmal_PK PRIMARY KEY(Navn, Ovelse_id),
  CONSTRAINT Treningsprogrammal_FK FOREIGN KEY (Ovelse_id) REFERENCES OVELSE(Id) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE DEL_AV_GRUPPE (
  Gruppe_id INT,
  Ovelse_id INT,
  CONSTRAINT Del_av_gruppe_GFK FOREIGN KEY (Gruppe_id) REFERENCES GRUPPE(id) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT Del_av_gruppe_OFK FOREIGN KEY (Ovelse_id) REFERENCES OVELSE(Id) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE RESULTAT (
  Id INT NOT NULL,
  CONSTRAINT Resultat_PK PRIMARY KEY (Id)
);

CREATE TABLE STYRKERESULTAT (
  Id int NOT NULL,
  Ovelse_id INT NOT NULL,
  Treningsokt_id INT NOT NULL,
  Belastning DECIMAL(3,1) NOT NULL,
  Repetisjoner INT(3) NOT NULL,
  Sett INT(2) NOT NULL,
  CONSTRAINT Styrkeresultat_PK PRIMARY KEY (Id),
  CONSTRAINT Styrkeresultat_PK_FK FOREIGN KEY (Id) REFERENCES RESULTAT ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT Styrkeresultat_OFK FOREIGN KEY (Ovelse_id) REFERENCES OVELSE(Id) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT Styrkeresultat_TFK FOREIGN KEY (Treningsokt_id) REFERENCES TRENINGSOKT(Id) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE KONDISJONSRESULTAT (
  Id INT NOT NULL,
  Lengde INT NOT NULL,
  Tid INT NOT NULL,
  Ovelse_id INT NOT NULL,
  Treningsokt_id INT NOT NULL,
  CONSTRAINT Kondisjonsresultat_PK PRIMARY KEY (Id),
  CONSTRAINT Kondisjonsresultat_PK_FK FOREIGN KEY (Id) REFERENCES RESULTAT ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT Kondisjonsresultat_OFK FOREIGN KEY (Ovelse_id) REFERENCES OVELSE(Id),
  CONSTRAINT Kondisjonsresultat_TFK FOREIGN KEY (Treningsokt_id) REFERENCES TRENINGSOKT(Id)
);

CREATE TABLE PULS (
  Dato_tid DATETIME,
  Resultat_id INT NOT NULL,
  Puls TINYINT UNSIGNED,
  CONSTRAINT Puls_PK PRIMARY KEY(Dato_tid),
  CONSTRAINT Puls_FK FOREIGN KEY(Resultat_id) REFERENCES RESULTAT(Id) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE STYRKEMAAL (
  Id INT NOT NULL,
  Belastning DECIMAL(3,1) NOT NULL,
  Repetisjoner INT(3) NOT NULL,
  Sett INT(2) NOT NULL,
  Ovelse_id INT NOT NULL,
  CONSTRAINT STYRKEMAAL_PK PRIMARY KEY (Id),
  CONSTRAINT STYRKEMAAL_FK FOREIGN KEY (Ovelse_id) REFERENCES OVELSE(Id)
);

CREATE TABLE KONDISJONSMAAL (
  Id INT NOT NULL,
  Lengde INT NOT NULL,
  Tid INT NOT NULL,
  Ovelse_id INT NOT NULL,
  CONSTRAINT KONDISJONSMAAL_PK PRIMARY KEY (Id),
  CONSTRAINT KONDISJONSMAAL_FK FOREIGN KEY (Ovelse_id) REFERENCES OVELSE(Id)
);
